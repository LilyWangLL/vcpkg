diff --git a/CMakeLists.txt b/CMakeLists.txt
index d9cc46e..f62b65f 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -223,12 +223,14 @@ find_package(PkgConfig)
 if(PkgConfig_FOUND)
   pkg_check_modules(GDK gdk-3.0)
   pkg_check_modules(GDK_PIXBUF gdk-pixbuf-2.0)
-  pkg_check_modules(LASI lasi)
-  pkg_check_modules(POPPLER poppler-glib)
+  set(LASI_FOUND 0)
+  set(POPPLER_FOUND 0)
   pkg_check_modules(RSVG librsvg-2.0)
   pkg_check_modules(WEBP libwebp)
+  if(UNIX)
   pkg_check_modules(X11 x11)
   pkg_check_modules(XRENDER xrender)
+  endif()
 else()
   set(GDK_FOUND 0)
   set(GDK_PIXBUF_FOUND 0)
diff --git a/cmake/FindCAIRO.cmake b/cmake/FindCAIRO.cmake
index a6fdf8e..b5d6329 100644
--- a/cmake/FindCAIRO.cmake
+++ b/cmake/FindCAIRO.cmake
@@ -1,7 +1,9 @@
 include(FindPackageHandleStandardArgs)
 
 find_package(PkgConfig)
-pkg_check_modules(CAIRO cairo)
+pkg_check_modules(CAIRO cairo IMPORTED_TARGET)
+set(CAIRO_LIBRARIES PkgConfig::CAIRO)
+set(CAIRO_LINK_LIBRARIES PkgConfig::CAIRO)
 if(MINGW)
   find_program(CAIRO_RUNTIME_LIBRARY NAMES libcairo-2.dll)
   find_program(EXPAT_RUNTIME_LIBRARY NAMES libexpat-1.dll)
diff --git a/cmake/FindGD.cmake b/cmake/FindGD.cmake
index 92220a7..96aa40e 100644
--- a/cmake/FindGD.cmake
+++ b/cmake/FindGD.cmake
@@ -1,3 +1,11 @@
+find_package(PkgConfig)
+pkg_check_modules(GD gdlib IMPORTED_TARGET)
+set(GD_LIBRARIES PkgConfig::GD)
+foreach(item IN ITEMS FONTCONFIG FREETYPE GIF JPEG PNG)
+  set(HAVE_GD_${item} 1)
+endforeach()
+return()
+
 find_path(GD_INCLUDE_DIR gd.h)
 find_library(GD_LIBRARY NAMES gd libgd)
 
diff --git a/cmake/FindGTS.cmake b/cmake/FindGTS.cmake
index bc1d5ea..f85025e 100644
--- a/cmake/FindGTS.cmake
+++ b/cmake/FindGTS.cmake
@@ -1,7 +1,8 @@
 include(FindPackageHandleStandardArgs)
 
 find_package(PkgConfig)
-pkg_check_modules(GTS gts)
+pkg_check_modules(GTS gts IMPORTED_TARGET)
+set(GTS_LINK_LIBRARIES PkgConfig::GTS)
 
 if(MINGW)
   find_package(GLIB)
diff --git a/cmake/FindLTDL.cmake b/cmake/FindLTDL.cmake
index e74d23f..42d9ae2 100644
--- a/cmake/FindLTDL.cmake
+++ b/cmake/FindLTDL.cmake
@@ -20,4 +20,7 @@ mark_as_advanced(LTDL_INCLUDE_DIR LTDL_LIBRARY)
 set(LTDL_INCLUDE_DIRS ${LTDL_INCLUDE_DIR})
 if(NOT WIN32 OR MINGW)
   set(LTDL_LIBRARIES ${LTDL_LIBRARY})
+  if(CMAKE_DL_LIBS AND NOT BUILD_SHARED_LIBS)
+    set(LTDL_LIBRARIES "${LTDL_LIBRARIES};${CMAKE_DL_LIBS}")
+  endif()
 endif()
diff --git a/cmake/FindPANGOCAIRO.cmake b/cmake/FindPANGOCAIRO.cmake
index d185f0b..71c3c45 100644
--- a/cmake/FindPANGOCAIRO.cmake
+++ b/cmake/FindPANGOCAIRO.cmake
@@ -1,7 +1,9 @@
 include(FindPackageHandleStandardArgs)
 find_package(PkgConfig)
 
-pkg_check_modules(PANGOCAIRO pangocairo)
+pkg_check_modules(PANGOCAIRO pangocairo IMPORTED_TARGET)
+set(PANGOCAIRO_LIBRARIES PkgConfig::PANGOCAIRO)
+set(PANGOCAIRO_LINK_LIBRARIES PkgConfig::PANGOCAIRO) # https://gitlab.kitware.com/cmake/cmake/-/issues/16154
 
 if(MINGW)
   find_package(GLIB)
diff --git a/lib/cdt/CMakeLists.txt b/lib/cdt/CMakeLists.txt
index 4057b57..de9f22a 100644
--- a/lib/cdt/CMakeLists.txt
+++ b/lib/cdt/CMakeLists.txt
@@ -68,3 +68,9 @@ set_target_properties(cdt PROPERTIES
   VERSION 5.0.0
   SOVERSION 5
 )
+
+set(THREADS_PREFER_PTHREAD_FLAG ON)
+find_package(Threads)
+if(TARGET Threads::Threads)
+  target_link_libraries(cdt Threads::Threads)
+endif()
